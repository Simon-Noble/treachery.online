<!--
 * Copyright 2020-2023 Ronald Ossendrijver. All rights reserved.
--->
@using Treachery.Shared
@using System.Linq;

@foreach (var ambassador in Ambassadors.Where(f => f != Ambassador.None))
{
    <Image Shown=@ambassador Width=@Diameter/>
}

@code {

    [Parameter]
    public IEnumerable<Ambassador> Ambassadors { get; set; } = Array.Empty<Ambassador>();

    [Parameter]
    public Dictionary<Ambassador, string> Labels { get; set; }

    [Parameter]
    public int Diameter { get; set; } = 30;

    [Parameter]
    public bool HasShadow { get; set; } = true;

    private string Shadow => HasShadow ? "filter: drop-shadow(1px 1px 1px black);" : "";

    protected override void OnParametersSet()
    {
        if (Labels == null)
        {
            Labels = Ambassadors.ToDictionary(f => f, f => Skin.Current.Describe(f));
        }
    }
}