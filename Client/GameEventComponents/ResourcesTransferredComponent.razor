<!--
 * Copyright 2020-2023 Ronald Ossendrijver. All rights reserved.
--->

@using Treachery.Shared
@using Treachery.Client.GenericComponents;
@inherits GameEventComponent<ResourcesTransferred>

<GameEventComponentLayout IsUrgent="@IsUrgent" BackgroundStyle="@BackgroundStyle" HeaderStyle="@HeaderStyle" BodyStyle=@BodyStyle CollapsedType=GetType()>

    <Header>Transfer @Skin.Current.Describe(Concept.Resource) to your ally?</Header>
    <Body>

        <div class="mt-1">
            <SelectResourcesComponent @bind-Value="resources" Min=0 Max=ResourcesTransferred.MaxAmount(Player) />
        </div>

        <ButtonRowComponent Confirm="Confirm" ConfirmError=@Validation />

    </Body>

</GameEventComponentLayout>

@code {

    private int resources;

    protected override ResourcesTransferred ConfirmedResult => new ResourcesTransferred(Game) { Initiator = Faction, Resources = resources };
}
