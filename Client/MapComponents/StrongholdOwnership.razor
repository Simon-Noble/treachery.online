<!--
 * Copyright 2020-2022 Ronald Ossendrijver. All rights reserved.
--->

@using Treachery.Shared
@inherits MapComponent

@{
    foreach (var stronghold in h.Game.Map.Strongholds)
    {
        if (h.Game.StrongholdOwnership.ContainsKey(stronghold))
        {
            var center = Skin.Current.GetCenter(stronghold);
            <Image X="@(center.X - 2 * Skin.Current.PlayerTokenRadius)" Y="@(center.Y - 0.8f * Skin.Current.PlayerTokenRadius)" Diameter=@(Skin.Current.PlayerTokenRadius) Src="@Skin.Current.FactionTableImage_URL[h.Game.StrongholdOwnership[stronghold]]" 
                   ShadowColor="@Skin.Current.SHADOW" ShadowX="1" ShadowY="1" ShadowBlur="0" Opacity="0.9f" Popover=@Popup.Get(stronghold, Game.StrongholdOwnership[stronghold])/>
        }
    }
}